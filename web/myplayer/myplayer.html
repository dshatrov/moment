<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html style="height: 100%" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Moment Video Server - http://momentserver.com</title>
  <style type="text/css">
    * {
      font-family: sans;
      color: #dddddd;
    }

    .menuentry_one {
      background-color: #333333;
    }

    .menuentry_two {
      background-color: #222222;
    }

    div.menuentry_one:hover {
      background: #666666;
      cursor: pointer;
    }

    td.menuentry_one:hover {
      background: #666666;
      cursor: pointer;
    }

    div.menuentry_two:hover {
      background: #666666;
      cursor: pointer;
    }
  </style>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript">
    function togglePlaylist () {
//      alert ("OK");

      menu = document.getElementById ("menu_container");
      menu_fix = document.getElementById ("menu_fix");
//      alert ("FOO");
      if (menu.style.display == "none") {
//        alert ("NONE");
        menu.style.display = "block";

        menu_fix.style.width = "200px";
      } else {
//        alert ("NOT NONE");
        menu.style.display = "none";

        menu_fix.style.width = "0px";
      }
    }
  </script>
</head>
<body style="height: 100%; padding: 0; margin: 0; background-color: #000000">
<!--<div id="show_menu" style="display: none; position: absolute; left: 10px; top: 10px; width: 30px; height: 50px;" class="menuentry_one">SHOW</div>-->
<table style="width: 100%; height: 100%; background-color: #000000" cellpadding="0" cellspacing="0">
<!--
  <tr>
    <td style="vertical-align: middle;">
      <a style="display: inline-block; background-color: #000000" href="http://momentserver.com">
        <img style="vertical-align: bottom; padding: 30px" src="dark.png" alt="Moment Video Server - http://momentserver.com"/>
      </a>
    </td>
    <td rowspan="2">
      <div style="width: 200px; height: 100%; background-color: #ffaaff">
      </div>
    </td>
  </tr>
-->
  <tr style="height: 100%">
    <td style="width: 100%; height: 100%;">
      <div style="height: 100%; background-color: #000000;" height="100%">
      <!--
      <object type="application/x-shockwave-flash" width="100%" height="100%"> 
          <param name="movie" value="MySubscriber.swf"></param> 
          </object>
          -->
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
        width="400"
    height="300"
    id="MySubscriber"
    align="middle">
<param name="movie" value="MySubscriber.swf"/>
<param name="allowScriptAccess" value="always" />
<param name="quality" value="high" />
<param name="scale" value="noscale" />
<param name="salign" value="lt" />
<param name="bgcolor" value="#000000"/>
<param name="allowFullScreen" value="true"/>
<embed src="MySubscriber.swf"
       bgcolor="#000000"
       width="100%"
       height="100%"
       name="MySubscriber"
       quality="high"
       align="middle"
       scale="showall"
       allowFullScreen="true"
       allowScriptAccess="always"
       type="application/x-shockwave-flash"
       pluginspage="http://www.macromedia.com/go/getflashplayer"
/>
</object>
      </div>
    </td>
    <td style="height: 100%">
<!--      <div id="menu_container" style="width: 200px; height: 100%; background-color: #111111; overflow: auto;"> -->
      <div id="menu_fix" style="height: 100%; width: 200px; overflow: auto;">
      <div id="menu_container" style="height: 100%; background-color: #111111; border-left: 1px solid #222222">
        <div id="menu" style="display: block;">
<!--
          <div style="padding: 1px; border-bottom: 5px solid #444444; vertical-align: bottom; text-align: center;"><h3><span style="color: #777777;">Каналы</span></h3></div>
          <div style="padding: 1px; border-bottom: 5px solid #444444; vertical-align: bottom; text-align: center;"><div style="display: inline-block"><h3><span style="color: #777777;">Каналы</span></h3></div><div style="display: inline-block; 100%; background-color: #666666">HIDE</div></div>
          <div style="padding: 1px; border-bottom: 5px solid #444444; vertical-align: bottom; text-align: center;"><div style="display: inline-block"><h3><span style="color: #777777;">Каналы</span></h3></div><div style="display: inline-block; 100%; background-color: #666666">HIDE</div></div>
-->
          <div style="padding: 0; border-bottom: 5px solid #444444; vertical-align: bottom; text-align: center;">
            <table style="width: 100%; border: 0;" cellpadding="0" cellspacing="0">
              <tr>
                <td>
                  <h3><span style="color: #777777;">Каналы</span></h3>
                </td>
                <!--
                <script type="text/javascript">
                  function hide_menu() {
                    document.getElementById ("menu").style.display = "none";
//                    document.getElementById ("show_menu").style.display="block";
                  }
                </script>
                -->
                <!--
                <td style="width: 30px;" class="menuentry_one" onclick="hide_menu()">
                  HIDE
                </td>
                -->
              </tr>
            </table>
          </div>
          </div>
        </div>
        <script type="text/javascript">

          var menu = document.getElementById ("menu");

          $.get ("playlist.json",
              {},
              function (data) {
                  var playlist = eval ('(' + data + ')');
//                  var color_one = "#aaffaa";
//                  var color_two = "#aaaaff";
                  var class_one = "menuentry_one";
                  var class_two = "menuentry_two";
//                  var color = color_one;
                  var cur_class = class_one;
                  for (var i = 0; i < playlist.length; ++i) {
                      var item = playlist [i];
                      var entry = document.createElement ("div");
                      entry.className = cur_class;
                      entry.style.padding = "10px";
//                      entry.style.backgroundColor = color;
                      entry.style.textAlign = "center";
                      entry.style.verticalAlign = "bottom";
                      entry.onclick =
                              (function (uri, stream_name) {
                                       return function () {
//                                               alert ("CLICK" + item);
//                                               document.getElementById ("MySubscriber").setSource ("" + item);
                                               document ["MySubscriber"].setSource (uri, stream_name);
                                       };
                               }) (item [1], item [2]);
                      entry.innerHTML = item [0];
                      menu.appendChild (entry);

                      if (cur_class == class_one)
                          cur_class = class_two;
                      else
                          cur_class = class_one;

/*
                      if (color == color_one)
                          color = color_two
                      else
                          color = color_one;
*/
                  }
              }
          );
        </script>
      </div>
    </td>
  </tr>
</table>
</body>
</html>

